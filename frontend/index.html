<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>小跑豬傢俱海運試算 | 專業集運</title>
    <link rel="icon" href="assets/logo.png" type="image/png" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <script src="js/styleLoader.js"></script>
  </head>
  <body class="shopping-theme">
    <div
      id="announcement-bar"
      style="
        display: none;
        background: #fff3cd;
        color: #856404;
        padding: 10px;
        text-align: center;
        font-size: 14px;
      "
    ></div>

    <header class="site-header">
      <div class="header-container">
        <a href="index.html" class="logo-link">
          <img
            src="assets/logo.png"
            alt="小跑豬"
            class="header-logo-img"
            style="height: 40px"
          />
          <span style="font-weight: 800; font-size: 1.4rem; color: #0056b3"
            >小跑豬
            <small style="font-weight: normal; font-size: 0.9rem"
              >家具專線</small
            ></span
          >
        </a>

        <nav class="header-nav main-nav"></nav>
      </div>
    </header>

    <div class="container main-content">
      <div class="warehouse-card">
        <div class="warehouse-header">
          <div class="wh-title">
            <i
              class="fas fa-warehouse"
              style="color: #0056b3; margin-right: 5px"
            ></i>
            <h3>大陸集運倉地址</h3>
            <span class="badge-official">官方</span>
          </div>
          <button
            id="copyAddressBtn"
            class="btn btn-outline-primary btn-sm"
            style="border-radius: 20px; font-size: 12px"
          >
            <i class="far fa-copy"></i> 複製
          </button>
        </div>
        <div class="warehouse-body">
          <div class="wh-info-row">
            <span class="label">收件人</span>
            <span class="value" id="wh-recipient">小跑豬+[您的姓名]</span>
          </div>
          <div class="wh-info-row">
            <span class="label">電話</span>
            <span class="value" id="wh-phone">13652554906</span>
          </div>
          <div class="wh-info-row">
            <span class="label">郵編</span>
            <span class="value" id="wh-zip">523920</span>
          </div>
          <div class="wh-info-row full-width">
            <span class="label">地址</span>
            <span class="value" id="wh-address">載入中...</span>
          </div>
        </div>
      </div>

      <div id="calculator-section" class="calculator-wrapper">
        <div class="section-header-row" style="background: #fdfdfd">
          <h3><i class="fas fa-calculator"></i> 運費試算</h3>
          <span style="font-size: 12px; color: #999">
            目前費率版本：<span style="color: #28a745">2025.11</span>
          </span>
        </div>

        <div id="item-list" class="shopping-list" style="padding: 15px"></div>

        <div style="padding: 0 15px 15px 15px">
          <button id="btn-add-item" class="btn-dashed-add">
            <i class="fas fa-plus-circle"></i> 加入下一件商品
          </button>
        </div>

        <div
          class="delivery-block"
          style="border-top: 1px solid #eee; padding: 20px"
        >
          <h4 style="margin-top: 0; color: #333">
            <i class="fas fa-map-marker-alt"></i> 配送目的地
          </h4>
          <p style="font-size: 13px; color: #666; margin-bottom: 10px">
            部分偏遠地區需加收派送費，請正確選擇以獲得精準報價。
          </p>
          <select
            id="deliveryLocation"
            class="form-control"
            style="font-size: 16px; padding: 12px"
          >
            <option value="" selected disabled>--- 資料載入中 ---</option>
          </select>
        </div>
      </div>

      <div
        id="loading-spinner"
        style="display: none; text-align: center; padding: 30px"
      >
        <div class="spinner"></div>
        <p style="color: #0056b3; margin-top: 10px">正在分析運費結構...</p>
      </div>

      <div id="results-container" style="display: none; margin-top: 20px"></div>

      <div style="height: 80px"></div>
    </div>

    <div class="sticky-footer-bar">
      <div class="footer-content">
        <div class="footer-total">
          <div class="text">預估總運費</div>
          <div class="price" id="sticky-total-price">$0</div>
        </div>
        <button id="btn-calculate" class="btn btn-checkout">開始試算</button>
      </div>
    </div>

    <nav class="mobile-bottom-nav" id="mobile-bottom-nav"></nav>

    <script src="js/apiConfig.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
