<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>小跑豬傢俱海運試算 | 像網購一樣簡單</title>
    <link rel="icon" href="assets/logo.png" type="image/png" />
    <script src="js/styleLoader.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <style>
      #announcement-bar {
        display: none;
        padding: 10px;
        text-align: center;
        color: white;
        font-weight: bold;
        position: relative;
        z-index: 1001;
        margin-bottom: 0;
        animation: fadeInDown 0.5s;
      }
      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body class="shopping-theme">
    <div id="announcement-bar"></div>

    <header class="site-header">
      <div class="header-container">
        <a href="index.html" class="logo-link">
          <img
            src="assets/logo.png"
            alt="小跑豬 LOGO"
            class="header-logo-img"
          />
          <span class="logo-text">小跑豬集運</span>
        </a>

        <div class="header-search">
          <div class="search-wrapper">
            <input
              type="text"
              id="areaSearch"
              placeholder="搜尋配送地區 (例: 阿里山)..."
              autocomplete="off"
            />
            <button class="search-btn"><i class="fas fa-search"></i></button>
          </div>
          <div id="searchResults" class="search-dropdown"></div>
        </div>

        <nav class="header-nav main-nav"></nav>
      </div>
    </header>

    <div class="container main-content">
      <div class="warehouse-card">
        <div class="warehouse-header">
          <div class="wh-icon"><i class="fas fa-warehouse"></i></div>
          <div class="wh-title">
            <h3>東莞傢俱專線倉庫</h3>
            <span class="badge-official">官方直營</span>
          </div>
          <button
            id="copyAddressBtn"
            class="btn btn-outline-primary btn-sm btn-follow"
          >
            <i class="far fa-copy"></i> 一鍵複製地址
          </button>
        </div>

        <div class="warehouse-body" id="warehouseAddressBox">
          <div class="wh-info-row">
            <span class="label">收件人：</span>
            <span class="value" id="wh-recipient">小跑豬+[您的姓名]</span>
          </div>
          <div class="wh-info-row">
            <span class="label">電話：</span>
            <span class="value" id="wh-phone">13652554906</span>
          </div>
          <div class="wh-info-row">
            <span class="label">郵編：</span>
            <span class="value" id="wh-zip">523920</span>
          </div>
          <div class="wh-info-row full-width">
            <span class="label">地址：</span>
            <span class="value" id="wh-address">載入中...</span>
          </div>
          <div class="wh-notice">
            <i class="fas fa-exclamation-circle"></i>
            注意：此倉專收大型家具/建材，拒收普貨散件。
          </div>
        </div>
      </div>

      <div class="rate-section-wrapper">
        <div class="section-header-row">
          <h3><i class="fas fa-tags"></i> 收費標準</h3>
          <button
            class="btn-toggle-rates"
            onclick="document.getElementById('rate-details-panel').classList.toggle('hidden')"
          >
            查看詳情 <i class="fas fa-chevron-down"></i>
          </button>
        </div>

        <div id="rate-details-panel" class="rate-details hidden">
          <div class="rate-table-container">
            <table class="rate-table">
              <thead>
                <tr>
                  <th>類別</th>
                  <th>品項說明</th>
                  <th>重量 (KG)</th>
                  <th>材積 (材)</th>
                </tr>
              </thead>
              <tbody id="rate-table-body">
                <tr>
                  <td colspan="4" class="loading-text">載入費率中...</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="rate-notes">
            <strong><i class="fas fa-info-circle"></i> 運費說明：</strong>
            <ul id="rate-notes-list">
              <li>載入中...</li>
            </ul>
          </div>
        </div>
      </div>

      <div id="calculator-section" class="calculator-wrapper">
        <div class="section-header-row">
          <h3><i class="fas fa-calculator"></i> 運費試算</h3>
          <span class="usage-badge"
            >已有 <span id="usageCount">5000+</span> 人使用</span
          >
        </div>

        <div id="item-list" class="shopping-list">
          <div class="item-group card-item" data-id="1"></div>
        </div>

        <button type="button" id="btn-add-item" class="btn btn-dashed-add">
          <i class="fas fa-plus"></i> 加入下一件商品
        </button>

        <hr class="divider" />

        <div class="delivery-block">
          <h3><i class="fas fa-map-marker-alt"></i> 配送目的地</h3>

          <div class="remote-area-notice">
            <i class="fas fa-exclamation-triangle"></i>
            偏遠地區需加收派送費，請務必正確選擇。
          </div>

          <div class="select-wrapper">
            <select id="deliveryLocation" class="form-control">
              <option value="" selected disabled>--- 載入中 ---</option>
            </select>
          </div>

          <div
            id="remoteAreaInfo"
            class="selected-area-info"
            style="display: none"
          >
            <div class="area-result">
              <span class="label">已選擇：</span>
              <span id="selectedAreaName" class="val-name"></span>
              <span id="selectedAreaFee" class="val-fee"></span>
            </div>
          </div>
        </div>
      </div>
      <div id="loading-spinner" style="display: none" class="loading-overlay">
        <div class="spinner"></div>
        <p>正在計算運費...</p>
      </div>
      <div
        id="error-message"
        class="alert alert-error"
        style="display: none"
      ></div>

      <div id="results-container" style="display: none"></div>

      <div class="sticky-footer-bar">
        <div class="footer-content">
          <div class="footer-total">
            <span class="text">預估總額：</span>
            <span class="price" id="sticky-total-price">請點擊計算</span>
          </div>
          <button
            type="button"
            id="btn-calculate"
            class="btn btn-primary btn-checkout"
          >
            計算總運費
          </button>
        </div>
      </div>
    </div>
    <footer class="site-footer">
      <div class="site-footer__container">
        <div class="footer-links">
          <a href="https://lin.ee/eK6HptX" target="_blank"
            ><i class="fab fa-line"></i> LINE 客服</a
          >
          <a href="mailto:2runtigers@gmail.com"
            ><i class="fas fa-envelope"></i> Email</a
          >
        </div>
        <div class="site-footer__copyright">
          © 2025 兩隻老虎國際貿易有限公司 |
          <a href="admin-login.html" class="admin-link">管理員</a>
        </div>
      </div>
    </footer>

    <a
      href="https://lin.ee/eK6HptX"
      target="_blank"
      class="line-fab"
      title="聯絡 LINE 客服"
    >
      <i class="fab fa-line"></i>
    </a>

    <nav class="mobile-bottom-nav" id="mobile-bottom-nav"></nav>

    <script src="js/apiConfig.js"></script>
    <script src="js/shippingData.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
